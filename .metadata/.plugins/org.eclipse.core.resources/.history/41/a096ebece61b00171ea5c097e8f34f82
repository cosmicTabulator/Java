package main;

import java.awt.Color;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Random;

public class CaveGenerator {

	int width; 
	int height;
	
	Random rand = new Random();
	
	public HashMap<Integer,Cell> cells;
	public HashMap<Integer,Cell> buffer;
	
	public CaveGenerator(int width, int height){
		
		this.width = width;
		this.height = height;
		
		for(int x = 0; x < width; x++){
			for(int y = 0; y < height; y++){
				Vector pos = new Vector(x,y);
				Cell c = new Cell(x,y,rand.nextBoolean());
				cells.put(pos.hashCode(), c);
			}
		}
		
	}
	
	public class Cell {

		boolean status;
		
		Vector pos;
		
		public Cell(int x, int y, boolean state){
			pos = new Vector(x, y);
			this.status = state;
		}
		
		public List<Cell> getNeighbors(){
			
			List<Cell> neighbors = new ArrayList<Cell>();
			
			for(int xV = -1; xV < 2; xV++){
				for(int yV = -1; yV < 2; yV++){
					Vector dir = new Vector(pos.x + xV, pos.y + yV);
					Cell c = CaveGenerator.this.cells.get(dir.hashCode());
					neighbors.add(c);
				}
			}
			
			return neighbors;
			
		}
		
	}
	
}
