package gui;

import java.awt.Graphics2D;
import java.awt.event.KeyEvent;
import java.util.ArrayList;
import java.util.List;

import entities.Entity;
import main.Main;
import main.Screen;
import main.World;

public class Campaign {

	public static List<Entity> objects = new ArrayList<Entity>();
	public static List<Entity> newObjects = new ArrayList<Entity>();
	float screenScale;
	
	static World world;
	
	public Campaign(){
		this.screenScale = Main.screenScale;
		world = new World();
	}
	
	public void campaignCycle(){
		if(Screen.keys.contains(KeyEvent.VK_Q)){
			Main.campaignActive = false;
			Main.menuActive = true;
			return;
		}
		newObjects.clear();
		for(Entity o : objects){
			newObjects.add(o);
		}
		Graphics2D g = Screen.image.createGraphics();
		g.scale(screenScale, screenScale);
		world.draw(g);
		for(Entity o : objects){
			o.onTick(Main.ticks);
			o.getPos();
			o.draw(g);
		}
		g.dispose();
		Screen.pane.repaint();
		objects.clear();
		for(Entity o : newObjects){
			objects.add(o);
		}
	}
	
	public void addObject(Entity o){
		
	}
	
}
