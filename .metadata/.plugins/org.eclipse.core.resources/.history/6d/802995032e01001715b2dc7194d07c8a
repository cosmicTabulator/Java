import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;

import org.json.JSONArray;
import org.json.JSONObject;

public class FileHandler {

	String filename;
	File file;
	
	public FileHandler(String name){
		this.filename = name;
		file = new File(filename);
		
		System.out.println(file.exists());
		
		if(!file.exists()){
			
			try{
				
				JSONObject obj = new JSONObject();
				JSONArray entries = new JSONArray();
				JSONObject entry = new JSONObject();
				
				obj.
				
				entry.put("score", 100);
				entry.put("rank", 1);
				
				entries.put(entry);
				
				obj.put("highscores", entries);
				
				String json = obj.toString();

				FileWriter fw = new FileWriter(file);
				
				char[] chars = json.toCharArray();
				
				fw.write(chars);
				
				fw.close();
				
				
			} catch (FileNotFoundException e) {
				e.printStackTrace();
			} catch (IOException e) {
				e.printStackTrace();
			}
		}
	}
	
	public JSONObject read(){
		
		JSONObject out = null;
        
		try {
			FileReader fr = new FileReader(file);
			
			char[] chars = null;
			
			fr.read(chars);
			
			out = new JSONObject(chars.toString());
		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
        return out;
	}
	
	public void write(JSONObject obj){

		String json = obj.toString();

		FileWriter fw = new FileWriter(file);
		
		char[] chars = json.toCharArray();
		
		fw.write(chars);
		
		fw.close();
		
	}
	
}
